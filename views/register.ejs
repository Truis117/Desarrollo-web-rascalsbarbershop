<%- include('partials/head', { title: 'Registro' }) %>
    <%- include('partials/header') %>

        <main class="container">
            <section class="form-hero">
                <h1>Crear Cuenta</h1>
                <p class="form-lead">Únete a nuestra comunidad</p>
            </section>

            <% if (error) { %>
                <div class="error">
                    <%= error %>
                </div>
                <% } %>

                    <form method="post" action="/register" class="auth-form" id="register-form">
                        <div>
                            <label for="nombre">Nombre</label>
                            <input id="nombre" name="nombre" type="text" placeholder="Tu nombre" required />
                        </div>

                        <div>
                            <label for="email">Correo Electrónico</label>
                            <input id="email" name="email" type="email" placeholder="tu@email.com" required />
                        </div>

                        <div>
                            <label for="password">Contraseña</label>
                            <input id="password" name="password" type="password" placeholder="Mínimo 6 caracteres" required />
                            <small style="color: #666; font-size: 12px;">La contraseña debe tener al menos 6 caracteres</small>
                        </div>

                        <button type="submit" class="btn gradient">Crear Cuenta</button>
                    </form>

                    <p class="center muted">¿Ya tienes cuenta? <a href="/login">Inicia sesión</a></p>

                    <script src="/js/validations.js"></script>
                    <script>
                        Validations.addRealTimeValidation('nombre', Validations.validateNombre);
                        Validations.addRealTimeValidation('email', Validations.validateEmail);
                        Validations.addRealTimeValidation('password', Validations.validatePassword);

                        document.getElementById('register-form').addEventListener('submit', function(e) {
                            const isValid = Validations.validateForm('register-form', {
                                nombre: Validations.validateNombre,
                                email: Validations.validateEmail,
                                password: Validations.validatePassword
                            });

                            if (!isValid) {
                                e.preventDefault();
                            }
                        });
                    </script>

                    <%- include('partials/footer') %>
        </main>
