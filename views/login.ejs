<%- include('partials/head', { title: 'Iniciar Sesión' }) %>
    <%- include('partials/header') %>

        <main class="container">
            <section class="form-hero">
                <h1>Iniciar Sesión</h1>
                <p class="form-lead">Ingresa tus credenciales para continuar</p>
            </section>

            <% if (error) { %>
                <div class="error">
                    <%= error %>
                </div>
                <% } %>

                    <form method="post" action="/login" class="auth-form" id="login-form">
                        <div>
                            <label for="email">Correo Electrónico</label>
                            <input id="email" name="email" type="email" placeholder="tu@email.com" required />
                        </div>

                        <div>
                            <label for="password">Contraseña</label>
                            <input id="password" name="password" type="password" placeholder="********" required />
                        </div>

                        <button type="submit" class="btn gradient">Iniciar Sesión</button>
                    </form>

                    <p class="center muted">¿No tienes cuenta? <a href="/register">Créala aquí</a></p>

                    <script src="/js/validations.js"></script>
                    <script>
                        Validations.addRealTimeValidation('email', Validations.validateEmail);
                        Validations.addRealTimeValidation('password', Validations.validatePassword);

                        document.getElementById('login-form').addEventListener('submit', function(e) {
                            const isValid = Validations.validateForm('login-form', {
                                email: Validations.validateEmail,
                                password: Validations.validatePassword
                            });

                            if (!isValid) {
                                e.preventDefault();
                            }
                        });
                    </script>

                    <%- include('partials/footer') %>
        </main>
